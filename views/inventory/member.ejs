<div class="main-body-1">
  <div class="page-header">
    <h1>View All Members</h1>
    <p>Manage and review registered members</p>
  </div>

  <div class="table-container">
    <table class="members-table">
      <thead>
        <tr>
          <th>ID</th>
          <th>Full Name</th>
          <th>Email</th>
          <th>Phone</th>
          <th>Membership #</th>
          <th>Joined</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <% if (members && members.length > 0) { %>
          <% members.forEach(member => { %>
            <tr data-member-id="<%= member.member_id %>">
              <td><%= member.member_id %></td>
              <td>
                <% if (member.member_profile_image) { %>
                  <img src="<%= member.member_profile_image %>" alt="Profile" class="table-avatar-1">
                <% } %>
                <%= member.member_firstname %> <%= member.member_lastname %>
              </td>
              <td><%= member.member_email %></td>
              <td><%= member.member_phone || 'N/A' %></td>
              <td><%= member.membership_number || 'N/A' %></td>
              <td><%= new Date(member.created_at).toLocaleDateString('en-GB') %></td>
              <td class="actions-cell">
                <button class="btn-action btn-view" title="View Details"
                        onclick="viewMember('<%= member.member_id %>')">
                  <i class="bi bi-eye"></i>
                </button>
                <button class="btn-action btn-delete" title="Delete Member"
                        onclick="confirmDeleteMember('<%= member.member_id %>')">
                  <i class="bi bi-trash"></i>
                </button>
              </td>
            </tr>
          <% }) %>
        <% } else { %>
          <tr>
            <td colspan="7" style="text-align:center;">No members found</td>
          </tr>
        <% } %>
      </tbody>
    </table>
  </div>
</div>

<!-- View Member Modal -->
<div id="viewMemberModal" class="modal-overlay">
  <div class="modal-content-07">
    <span class="modal-close" onclick="closeModal('viewMemberModal')">×</span>
    <h2>Member Details</h2>
    <div class="member-detail-grid" id="memberDetailContent">
      <!-- JS will fill this -->
    </div>
  </div>
</div>

<!-- Delete Confirmation Modal -->
<div id="deleteConfirmModal" class="modal-overlay">
  <div class="modal-content-08 delete-confirm">
    <span class="modal-close" onclick="closeModal('deleteConfirmModal')">×</span>
    <h3>Confirm Delete</h3>
    <p>Do you want to delete this member?</p>
    <p class="warning">This action cannot be undone.</p>
    <div class="delete-buttons">
      <button class="btn-1 btn-no" onclick="closeModal('deleteConfirmModal')">No</button>
      <button class="btn-1 btn-yes" id="confirmDeleteBtn">Yes, Delete</button>
    </div>
  </div>
</div>
